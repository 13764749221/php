{"version":3,"sources":["webpack:///./src/views/demo/d2-crud/demo29/code.js"],"names":["__webpack_require__","r","__webpack_exports__"],"mappings":"kHAAAA,EAAAC,EAAAC,GAAeA,EAAA","file":"js/chunk-2d0f0a33.a8f23c18.js","sourcesContent":["export default `<template>\r\n  <div>\r\n    <d2-crud\r\n      :columns=\"columns\"\r\n      :data=\"data\"\r\n      :loading=\"loading\"\r\n      :pagination=\"pagination\"\r\n      @pagination-current-change=\"paginationCurrentChange\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BusinessTable1List } from '@api/demo.business.table.1'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      columns: [\r\n        {\r\n          title: '卡密',\r\n          key: 'key',\r\n          width: 320\r\n        },\r\n        {\r\n          title: '面值',\r\n          key: 'value'\r\n        },\r\n        {\r\n          title: '管理员',\r\n          key: 'admin'\r\n        },\r\n        {\r\n          title: '创建时间',\r\n          key: 'dateTimeCreat'\r\n        },\r\n        {\r\n          title: '使用时间',\r\n          key: 'dateTimeUse'\r\n        }\r\n      ],\r\n      data: [],\r\n      loading: false,\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSize: 5,\r\n        total: 0\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    paginationCurrentChange (currentPage) {\r\n      this.pagination.currentPage = currentPage\r\n      this.fetchData()\r\n    },\r\n    fetchData () {\r\n      this.loading = true\r\n      BusinessTable1List({\r\n        ...this.pagination\r\n      }).then(res => {\r\n        this.data = res.list\r\n        this.pagination.total = res.page.total\r\n        this.loading = false\r\n      }).catch(err => {\r\n        console.log('err', err)\r\n        this.loading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>`\r\n"],"sourceRoot":""}